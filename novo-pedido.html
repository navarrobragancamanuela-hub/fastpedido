<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Novo Pedido - FastPedido</title>
    
    <!-- Meta tags para SEO e acessibilidade -->
    <meta name="description" content="Crie novos pedidos de forma r√°pida e eficiente no FastPedido">
    <meta name="keywords" content="criar pedido, lanchonete, restaurante, fastfood">
    
    <!-- Preload de recursos cr√≠ticos -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" as="script">
    
    <!-- CDN de depend√™ncias -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
          integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" 
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>

/* ===== üé® FORMUL√ÅRIOS PREMIUM - ESTILOS PARA NOVO PEDIDO ===== */

.form-section {
    background: var(--gradient-card);
    padding: 30px;
    border-radius: var(--radius-medium);
    margin-bottom: 25px;
    border: 2px solid var(--laranja-queijo);
    box-shadow: var(--shadow-medium);
    transition: var(--transition-smooth);
}

.form-section:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-bold);
}

.form-section__title {
    color: var(--preto-carbon);
    font-size: 1.4rem;
    font-weight: 800;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 12px;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--laranja-queijo);
}

.form-section__icon {
    color: var(--vermelho-burger);
    font-size: 1.3rem;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
}

.form-group {
    margin-bottom: 20px;
}

.form-label {
    display: block;
    font-weight: 700;
    color: var(--preto-carbon);
    margin-bottom: 8px;
    font-size: 1rem;
}

.form-label::after {
    content: "*";
    color: var(--vermelho-burger);
    margin-left: 4px;
}

.form-label:has(~ .form-control:not([required]))::after {
    content: "";
}

/* üéØ INPUTS ESTILIZADOS */
.form-control {
    width: 100%;
    padding: 14px 18px;
    border: 2px solid var(--cinza-claro);
    border-radius: var(--radius-medium);
    background: var(--branco-gelo);
    font-family: inherit;
    font-size: 1rem;
    font-weight: 600;
    color: var(--preto-carbon);
    transition: var(--transition-smooth);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
}

.form-control:focus {
    outline: none;
    border-color: var(--vermelho-burger);
    box-shadow: 
        inset 0 2px 4px rgba(0,0,0,0.05),
        0 0 0 3px rgba(255, 71, 87, 0.1);
    transform: translateY(-2px);
}

.form-control:hover {
    border-color: var(--laranja-queijo);
}

.form-control--textarea {
    resize: vertical;
    min-height: 100px;
    line-height: 1.5;
}

/* üéØ SELECT ESTILIZADO */
select.form-control {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ff4757'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 16px center;
    background-size: 16px;
    padding-right: 50px;
}

/* üéØ ITENS DO PEDIDO ESTILIZADOS */
.itens-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 20px;
}

.item-pedido {
    background: var(--gradient-card);
    padding: 20px;
    border-radius: var(--radius-medium);
    border: 2px solid transparent;
    transition: var(--transition-smooth);
    display: flex;
    gap: 15px;
    align-items: center;
    box-shadow: var(--shadow-soft);
}

.item-pedido:hover {
    border-color: var(--laranja-queijo);
    transform: translateX(5px);
    box-shadow: var(--shadow-medium);
}

.order-item__select {
    flex: 2;
    min-width: 0;
}

.order-item__input {
    flex: 1;
    min-width: 100px;
    text-align: center;
}

.order-item__remove {
    background: var(--vermelho-burger);
    color: var(--branco-gelo);
    border: none;
    padding: 12px;
    border-radius: var(--radius-small);
    cursor: pointer;
    transition: var(--transition-smooth);
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 44px;
    min-height: 44px;
}

.order-item__remove:hover {
    background: var(--vermelho-salsa);
    transform: scale(1.1);
}

.itens-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
    margin-top: 20px;
}

.itens-summary {
    font-weight: 700;
    color: var(--preto-carbon);
    font-size: 1.1rem;
}

/* üéØ BOT√ïES DE FORMUL√ÅRIO */
.form-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
    margin-top: 30px;
    padding-top: 25px;
    border-top: 2px solid var(--laranja-queijo);
}

.form-actions--sticky {
    position: sticky;
    bottom: 20px;
    background: var(--gradient-card);
    padding: 20px;
    border-radius: var(--radius-medium);
    box-shadow: var(--shadow-bold);
    border: 2px solid var(--laranja-queijo);
    z-index: 100;
}

.action-group {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

/* üéØ PROGRESS BAR ESTILIZADA */
.form-progress {
    background: var(--gradient-card);
    padding: 15px;
    border-radius: var(--radius-medium);
    margin: 20px 0;
    border: 2px solid var(--laranja-queijo);
}

.form-progress__bar {
    height: 8px;
    background: rgba(0,0,0,0.1);
    border-radius: 4px;
    overflow: hidden;
    margin: 10px 0;
}

.form-progress__fill {
    height: 100%;
    background: var(--gradient-burger);
    border-radius: 4px;
    transition: width 0.5s ease;
    width: 0%;
}

.form-progress__text {
    font-weight: 700;
    color: var(--preto-carbon);
    text-align: center;
    display: block;
}

/* üéØ ESTADOS DO FORMUL√ÅRIO */
.form-control--valid {
    border-color: var(--verde-alface);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232ed573'%3E%3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 16px center;
    background-size: 16px;
    padding-right: 50px;
}

.form-control--invalid {
    border-color: var(--vermelho-burger);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ff4757'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 16px center;
    background-size: 16px;
    padding-right: 50px;
}

.form-feedback {
    font-size: 0.85rem;
    margin-top: 5px;
    font-weight: 600;
}

.form-help {
    font-size: 0.85rem;
    color: var(--cinza-chic);
    margin-top: 5px;
}

.char-counter {
    font-weight: 700;
}

.char-counter--warning {
    color: var(--vermelho-burger);
}

/* üéØ BOT√ÉO EM PROCESSAMENTO */
.btn--processing {
    position: relative;
    color: transparent !important;
}

.btn--processing::after {
    content: "";
    position: absolute;
    width: 20px;
    height: 20px;
    top: 50%;
    left: 50%;
    margin-left: -10px;
    margin-top: -10px;
    border: 2px solid #ffffff;
    border-radius: 50%;
    border-right-color: transparent;
    animation: spin 0.8s linear infinite;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* üì± RESPONSIVIDADE DOS FORMUL√ÅRIOS */
@media (max-width: 768px) {
    .form-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .form-section {
        padding: 20px;
    }
    
    .item-pedido {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
    }
    
    .order-item__select,
    .order-item__input {
        width: 100%;
    }
    
    .form-actions {
        flex-direction: column;
        align-items: stretch;
    }
    
    .action-group {
        justify-content: center;
    }
    
    .itens-actions {
        flex-direction: column;
        align-items: stretch;
    }
}

@media (max-width: 480px) {
    .form-section {
        padding: 15px;
    }
    
    .form-control {
        padding: 12px 15px;
    }
}

/* ===== üåü CSS ULTRA PREMIUM V2 - TEMA RETRO LANCHONETE DELUXE üåü ===== */

/* üé® PALETA DE CORES PREMIUM - ATUALIZADA */
:root {
  /* Cores Principais Vibrantes */
  --vermelho-burger: #ff4757;
  --vermelho-salsa: #e8413d;
  --laranja-queijo: #ffa502;
  --laranja-grelhado: #e67e22;
  --verde-alface: #2ed573;
  --verde-escuro: #27ae60;
  --azul-refri: #3498db;
  --azul-profundo: #2980b9;
  --amarelo-batata: #f1c40f;
  --roxo-milkshake: #9b59b6;
  
  /* Cores Neutras Premium */
  --preto-carbon: #2c3e50;
  --grafite: #34495e;
  --cinza-chic: #7f8c8d;
  --cinza-claro: #ecf0f1;
  --branco-gelo: #ffffff;
  --creme: #fef5e7;
  
  /* Gradientes Exclusivos */
  --gradient-hero: linear-gradient(135deg, #ff6b6b 0%, #ffa502 50%, #ff4757 100%);
  --gradient-burger: linear-gradient(135deg, var(--vermelho-burger), var(--laranja-queijo));
  --gradient-queijo: linear-gradient(135deg, var(--laranja-queijo), #f39c12);
  --gradient-verde: linear-gradient(135deg, var(--verde-alface), #27ae60);
  --gradient-azul: linear-gradient(135deg, var(--azul-refri), #2980b9);
  --gradient-fundo: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 50%, #a1c4fd 100%);
  --gradient-card: linear-gradient(145deg, #ffffff, #f8f9fa);
  --gradient-btn: linear-gradient(135deg, var(--vermelho-burger), var(--vermelho-salsa));
  
  /* Sombras Premium */
  --shadow-soft: 0 2px 20px rgba(0,0,0,0.08);
  --shadow-medium: 0 8px 30px rgba(0,0,0,0.12);
  --shadow-bold: 0 15px 50px rgba(0,0,0,0.15);
  --shadow-glow: 0 0 30px rgba(255, 71, 87, 0.3);
  --shadow-neon: 0 0 20px rgba(255, 165, 2, 0.4);
  
  /* Bordas Sofisticadas */
  --radius-small: 12px;
  --radius-medium: 20px;
  --radius-large: 30px;
  --radius-pill: 50px;
  --radius-circle: 50%;
  
  /* Transi√ß√µes Luxuosas */
  --transition-smooth: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --transition-bounce: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  --transition-elastic: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* üî• RESET PREMIUM COMPLETO - ELIMINA ESTILOS ANTIGOS */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* üö´ REMOVE TODOS OS ESTILOS DE ACESSIBILIDADE FEIOS */
.skip-link {
  position: absolute !important;
  top: -100px !important;
  left: -100px !important;
  width: 1px !important;
  height: 1px !important;
  overflow: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

.skip-link:focus {
  top: 20px !important;
  left: 20px !important;
  width: auto !important;
  height: auto !important;
  background: var(--gradient-burger) !important;
  color: var(--branco-gelo) !important;
  padding: 15px 25px !important;
  border-radius: var(--radius-pill) !important;
  text-decoration: none !important;
  font-weight: 700 !important;
  box-shadow: var(--shadow-bold) !important;
  z-index: 10000 !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  border: 3px solid var(--branco-gelo) !important;
  animation: buttonPulse 2s infinite !important;
}

*::selection {
  background: var(--laranja-queijo);
  color: var(--branco-gelo);
  text-shadow: none;
}

/* üåà BASE LUXUOSA */
body {
  font-family: 'Segoe UI', 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--gradient-fundo);
  color: var(--preto-carbon);
  line-height: 1.7;
  min-height: 100vh;
  padding: 20px;
  position: relative;
  overflow-x: hidden;
  font-weight: 400;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* üé≠ FUNDO ANIMADO PREMIUM */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 15% 25%, rgba(255, 107, 107, 0.15) 0%, transparent 25%),
    radial-gradient(circle at 85% 65%, rgba(255, 165, 2, 0.15) 0%, transparent 25%),
    radial-gradient(circle at 50% 80%, rgba(46, 213, 115, 0.1) 0%, transparent 30%),
    radial-gradient(circle at 75% 20%, rgba(155, 89, 182, 0.1) 0%, transparent 20%);
  z-index: -2;
  animation: floatBackground 20s ease-in-out infinite;
}

body::after {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="rgba(255,255,255,0.03)"/><circle cx="20" cy="20" r="0.5" fill="rgba(255,255,255,0.02)"/><circle cx="80" cy="80" r="0.7" fill="rgba(255,255,255,0.02)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
  z-index: -1;
  opacity: 0.4;
}

@keyframes floatBackground {
  0%, 100% { transform: translateY(0px) scale(1); }
  50% { transform: translateY(-20px) scale(1.02); }
}

/* üè∞ CONTAINER REAL */
.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 30px;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  position: relative;
}

/* üëë CABE√áALHO IMPERIAL */
header, .header {
  background: var(--gradient-hero);
  padding: 40px;
  border-radius: var(--radius-large);
  box-shadow: 
    var(--shadow-bold),
    var(--shadow-glow),
    inset 0 1px 0 rgba(255,255,255,0.2);
  margin-bottom: 40px;
  text-align: center;
  color: var(--branco-gelo);
  border: 4px solid var(--branco-gelo);
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(10px);
}

/* üé™ EFEITO RETRO NO CABE√áALHO */
header::before, .header::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 15px,
      rgba(255, 255, 255, 0.1) 15px,
      rgba(255, 255, 255, 0.1) 30px
    ),
    radial-gradient(circle at 30% 30%, rgba(255,255,255,0.2) 0%, transparent 50%),
    radial-gradient(circle at 70% 70%, rgba(255,255,255,0.15) 0%, transparent 50%);
  animation: slideStripes 20s linear infinite;
}

@keyframes slideStripes {
  0% { transform: translateX(0) translateY(0); }
  100% { transform: translateX(-30px) translateY(-30px); }
}

/* üíé LOGO ANIMADA */
.logo {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
  margin-bottom: 15px;
  position: relative;
}

.logo__icon {
  font-size: 3.5rem;
  color: var(--amarelo-batata);
  animation: burgerSpin 8s ease-in-out infinite;
  filter: 
    drop-shadow(2px 2px 0 rgba(0,0,0,0.3))
    drop-shadow(0 0 10px rgba(255, 193, 7, 0.5));
  position: relative;
}

.logo__icon::after {
  content: "üçî";
  position: absolute;
  top: 0;
  left: 0;
  animation: cheeseMelt 4s ease-in-out infinite;
}

@keyframes burgerSpin {
  0%, 100% { 
    transform: scale(1) rotate(0deg) translateY(0px);
    color: var(--amarelo-batata);
  }
  25% { 
    transform: scale(1.1) rotate(5deg) translateY(-5px);
    color: var(--laranja-queijo);
  }
  50% { 
    transform: scale(1.05) rotate(-3deg) translateY(-3px);
    color: var(--vermelho-burger);
  }
  75% { 
    transform: scale(1.1) rotate(2deg) translateY(-5px);
    color: var(--amarelo-batata);
  }
}

@keyframes cheeseMelt {
  0%, 100% { opacity: 0; transform: scale(0.8); }
  50% { opacity: 1; transform: scale(1.1); }
}

/* üëë T√çTULO PREMIUM */
h1, .header__title {
  color: var(--branco-gelo);
  font-size: 3.5rem;
  font-weight: 900;
  text-shadow: 
    3px 3px 0 rgba(0,0,0,0.3),
    0 0 20px rgba(255,255,255,0.5),
    0 0 40px rgba(255, 165, 2, 0.3);
  letter-spacing: 2px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
  margin-bottom: 15px;
  position: relative;
  background: linear-gradient(135deg, #ffffff 0%, #f1c40f 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ‚ú® SUBT√çTULO ELEGANTE */
.subtitle {
  color: rgba(255,255,255,0.95);
  font-size: 1.4rem;
  font-weight: 500;
  margin-bottom: 20px;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
  position: relative;
  display: inline-block;
}

.subtitle::after {
  content: "";
  position: absolute;
  bottom: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 60px;
  height: 3px;
  background: linear-gradient(90deg, transparent, var(--amarelo-batata), transparent);
  border-radius: 2px;
}

/* üß≠ NAVEGA√á√ÉO RETRO PREMIUM */
nav, .nav, .main-nav {
  margin-bottom: 40px;
  position: relative;
}

.nav__list, .main-nav {
  display: flex;
  justify-content: center;
  gap: 15px;
  list-style: none;
  flex-wrap: wrap;
  position: relative;
}

.nav__item {
  position: relative;
}

.nav__link, .nav-link {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 18px 32px;
  background: var(--gradient-card);
  border-radius: var(--radius-pill);
  text-decoration: none;
  color: var(--preto-carbon);
  font-weight: 700;
  font-size: 1.1rem;
  transition: var(--transition-bounce);
  box-shadow: var(--shadow-medium);
  border: 3px solid transparent;
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(10px);
}

/* üåü EFEITO DE NEON NOS BOT√ïES */
.nav__link::before, .nav-link::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255,255,255,0.6), 
    rgba(255,255,255,0.8), 
    rgba(255,255,255,0.6), 
    transparent
  );
  transition: var(--transition-smooth);
}

.nav__link:hover::before, .nav-link:hover::before {
  left: 100%;
}

.nav__link:hover, .nav-link:hover,
.nav__link--active, .nav-link.active {
  background: var(--gradient-burger);
  color: var(--branco-gelo);
  transform: translateY(-8px) scale(1.05);
  box-shadow: 
    var(--shadow-bold),
    var(--shadow-glow),
    0 10px 30px rgba(255, 71, 87, 0.4);
  border-color: var(--branco-gelo);
  animation: buttonPulse 2s infinite;
}

@keyframes buttonPulse {
  0%, 100% { box-shadow: var(--shadow-bold), var(--shadow-glow), 0 10px 30px rgba(255, 71, 87, 0.4); }
  50% { box-shadow: var(--shadow-bold), var(--shadow-glow), 0 15px 40px rgba(255, 71, 87, 0.6); }
}

.nav__link--highlight {
  background: var(--gradient-btn);
  color: var(--branco-gelo);
  animation: highlightPulse 3s infinite;
}

@keyframes highlightPulse {
  0%, 100% { 
    transform: translateY(0px);
    box-shadow: var(--shadow-bold), 0 0 20px rgba(255, 71, 87, 0.5);
  }
  50% { 
    transform: translateY(-5px);
    box-shadow: var(--shadow-bold), 0 0 30px rgba(255, 71, 87, 0.8);
  }
}

.nav__icon {
  font-size: 1.3rem;
  filter: drop-shadow(1px 1px 1px rgba(0,0,0,0.2));
}

.nav__badge {
  background: var(--gradient-btn);
  color: var(--branco-gelo);
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 800;
  min-width: 28px;
  text-align: center;
  box-shadow: 0 2px 10px rgba(0,0,0,0.2);
  animation: badgeBounce 2s infinite;
}

@keyframes badgeBounce {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

/* üéõÔ∏è FILTROS PREMIUM - ESTILO NOVO */
.filter-group {
  display: flex;
  align-items: center;
  gap: 15px;
  background: var(--gradient-card);
  padding: 15px 25px;
  border-radius: var(--radius-pill);
  box-shadow: var(--shadow-medium);
  border: 2px solid var(--laranja-queijo);
  backdrop-filter: blur(10px);
  transition: var(--transition-smooth);
}

.filter-group:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-bold);
  border-color: var(--vermelho-burger);
}

.filter-label {
  font-weight: 700;
  color: var(--preto-carbon);
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 1rem;
}

.filter-label i {
  color: var(--vermelho-burger);
  font-size: 1.1rem;
}

.filter-select {
  padding: 12px 20px;
  border: 2px solid var(--cinza-claro);
  border-radius: var(--radius-pill);
  background: var(--branco-gelo);
  font-family: inherit;
  font-weight: 600;
  color: var(--preto-carbon);
  cursor: pointer;
  transition: var(--transition-smooth);
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
  min-width: 180px;
}

.filter-select:focus {
  outline: none;
  border-color: var(--vermelho-burger);
  box-shadow: 
    inset 0 2px 4px rgba(0,0,0,0.1),
    0 0 0 3px rgba(255, 71, 87, 0.1);
}

.filter-select:hover {
  border-color: var(--laranja-queijo);
  transform: translateY(-1px);
}

/* üîß SISTEMA STATUS PREMIUM */
.system-status {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
  flex-wrap: wrap;
  background: rgba(255,255,255,0.1);
  padding: 15px 25px;
  border-radius: var(--radius-pill);
  backdrop-filter: blur(10px);
  border: 2px solid rgba(255,255,255,0.2);
}

.status-indicator {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 20px;
  background: rgba(255, 255, 255, 0.15);
  border-radius: var(--radius-pill);
  color: var(--branco-gelo);
  font-size: 0.95rem;
  font-weight: 600;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.3);
}

.status-indicator--online i {
  color: var(--verde-alface);
  animation: blink 2s infinite;
  filter: drop-shadow(0 0 5px rgba(46, 213, 115, 0.5));
}

.last-update {
  color: rgba(255,255,255,0.9);
  font-size: 0.9rem;
  font-weight: 500;
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

/* üí≥ CARDS LUXUOSOS */
.card {
  background: var(--gradient-card);
  padding: 40px;
  border-radius: var(--radius-large);
  box-shadow: 
    var(--shadow-bold),
    inset 0 1px 0 rgba(255,255,255,0.8);
  margin-bottom: 30px;
  border: 3px solid var(--laranja-queijo);
  position: relative;
  overflow: hidden;
  transition: var(--transition-elastic);
  backdrop-filter: blur(10px);
}

.card::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--gradient-burger);
  background-size: 200% 100%;
  animation: shimmer 3s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.card::after {
  content: "";
  position: absolute;
  top: 10px;
  right: 10px;
  width: 120px;
  height: 120px;
  background: radial-gradient(circle, var(--laranja-queijo) 0%, transparent 70%);
  border-radius: var(--radius-circle);
  opacity: 0.1;
  animation: float 6s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50% { transform: translateY(-20px) rotate(180deg); }
}

.card:hover {
  transform: translateY(-12px) scale(1.02);
  box-shadow: 
    var(--shadow-bold),
    0 25px 60px rgba(0,0,0,0.2),
    var(--shadow-neon);
}

.header-actions, .card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
  flex-wrap: wrap;
  gap: 20px;
  position: relative;
}

.card-title, .card__title {
  color: var(--preto-carbon);
  font-size: 2.2rem;
  font-weight: 800;
  display: flex;
  align-items: center;
  gap: 15px;
  background: linear-gradient(135deg, var(--preto-carbon), var(--vermelho-burger));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.card-title i, .card__icon {
  color: var(--vermelho-burger);
  font-size: 1.8rem;
  filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.2));
}

/* üéØ BOT√ïES PREMIUM */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 16px 32px;
  border: 3px solid transparent;
  border-radius: var(--radius-pill);
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  transition: var(--transition-bounce);
  text-decoration: none;
  position: relative;
  overflow: hidden;
  min-height: 56px;
  text-transform: uppercase;
  letter-spacing: 1px;
  backdrop-filter: blur(10px);
}

.btn::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255,255,255,0.4), 
    rgba(255,255,255,0.6), 
    rgba(255,255,255,0.4), 
    transparent
  );
  transition: var(--transition-smooth);
}

.btn:hover::before {
  left: 100%;
}

.btn:active {
  transform: scale(0.95) translateY(2px);
}

.btn-primary, .btn--primary {
  background: var(--gradient-btn);
  color: var(--branco-gelo);
  border-color: var(--vermelho-salsa);
  box-shadow: 
    var(--shadow-medium),
    0 6px 20px rgba(255, 71, 87, 0.4);
  position: relative;
}

.btn-primary::after, .btn--primary::after {
  content: "";
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: var(--gradient-btn);
  border-radius: var(--radius-pill);
  z-index: -1;
  opacity: 0;
  transition: var(--transition-smooth);
}

.btn-primary:hover, .btn--primary:hover {
  background: var(--gradient-btn);
  transform: translateY(-8px) scale(1.05);
  box-shadow: 
    var(--shadow-bold),
    0 12px 30px rgba(255, 71, 87, 0.6),
    var(--shadow-glow);
  animation: buttonGlow 2s infinite;
}

.btn-primary:hover::after, .btn--primary:hover::after {
  opacity: 1;
  animation: borderPulse 2s infinite;
}

@keyframes buttonGlow {
  0%, 100% { box-shadow: var(--shadow-bold), 0 12px 30px rgba(255, 71, 87, 0.6), var(--shadow-glow); }
  50% { box-shadow: var(--shadow-bold), 0 15px 40px rgba(255, 71, 87, 0.8), 0 0 30px rgba(255, 71, 87, 0.6); }
}

@keyframes borderPulse {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.02); opacity: 0.8; }
}

/* üë• FOOTER PREMIUM */
.footer {
  margin-top: auto;
  padding: 30px 0;
  border-top: 3px solid rgba(255, 255, 255, 0.3);
  position: relative;
}

.footer::before {
  content: "";
  position: absolute;
  top: -3px;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--gradient-burger);
  background-size: 200% 100%;
  animation: shimmer 4s infinite;
}

.footer__content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 20px;
}

.footer__text {
  color: var(--preto-carbon);
  font-size: 1rem;
  font-weight: 600;
}

.footer__links {
  display: flex;
  align-items: center;
  gap: 15px;
}

/* üé™ BOT√ÉO "SOBRE" PREMIUM */
.footer__link {
  background: var(--gradient-card);
  color: var(--preto-carbon);
  border: 2px solid var(--laranja-queijo);
  padding: 12px 24px;
  border-radius: var(--radius-pill);
  text-decoration: none;
  font-weight: 700;
  font-size: 0.95rem;
  transition: var(--transition-bounce);
  box-shadow: var(--shadow-soft);
  display: flex;
  align-items: center;
  gap: 8px;
  backdrop-filter: blur(10px);
}

.footer__link:hover {
  background: var(--gradient-burger);
  color: var(--branco-gelo);
  transform: translateY(-5px) scale(1.05);
  box-shadow: var(--shadow-bold);
  border-color: var(--branco-gelo);
}

.footer__separator {
  color: var(--cinza-chic);
  font-size: 1.2rem;
  font-weight: 300;
}

.footer__status {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--cinza-chic);
  font-size: 0.9rem;
  font-weight: 600;
  background: var(--gradient-card);
  padding: 8px 16px;
  border-radius: var(--radius-pill);
  border: 2px solid var(--verde-alface);
}

.footer__version {
  background: var(--gradient-btn);
  color: var(--branco-gelo);
  padding: 4px 12px;
  border-radius: var(--radius-pill);
  font-size: 0.8rem;
  font-weight: 800;
  box-shadow: var(--shadow-soft);
  animation: versionPulse 4s infinite;
}

@keyframes versionPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

/* üçî GRID DE PRODUTOS ULTRA PREMIUM */
.produtos-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 30px;
  margin-top: 30px;
}

.produto-card {
  background: var(--gradient-card);
  border-radius: var(--radius-large);
  overflow: hidden;
  box-shadow: var(--shadow-medium);
  transition: var(--transition-elastic);
  border: 3px solid transparent;
  position: relative;
  backdrop-filter: blur(10px);
}

.produto-card::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 6px;
  background: var(--gradient-burger);
  background-size: 200% 100%;
  animation: shimmer 4s infinite;
}

.produto-card:hover {
  transform: 
    translateY(-15px) 
    scale(1.03) 
    rotate(1deg);
  box-shadow: 
    var(--shadow-bold),
    0 25px 50px rgba(0,0,0,0.2),
    var(--shadow-neon);
  border-color: var(--laranja-queijo);
}

.produto-imagem {
  height: 220px;
  background: linear-gradient(135deg, var(--cinza-claro), #dfe4ea);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
}

.produto-imagem::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 30% 30%, rgba(255,255,255,0.4) 0%, transparent 50%),
    radial-gradient(circle at 70% 70%, rgba(255,255,255,0.3) 0%, transparent 50%);
  animation: imageShine 6s infinite;
}

@keyframes imageShine {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 0.8; }
}

.produto-imagem::after {
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, transparent 40%, rgba(255,255,255,0.3) 50%, transparent 60%);
  animation: productShimmer 4s infinite;
}

@keyframes productShimmer {
  0% { transform: translateX(-100%) skewX(-15deg); }
  100% { transform: translateX(200%) skewX(-15deg); }
}

.produto-imagem i {
  font-size: 5rem;
  color: var(--cinza-chic);
  opacity: 0.8;
  filter: drop-shadow(2px 2px 5px rgba(0,0,0,0.2));
  transition: var(--transition-smooth);
}

.produto-card:hover .produto-imagem i {
  transform: scale(1.2) rotate(10deg);
  opacity: 1;
  color: var(--laranja-queijo);
}

.produto-info {
  padding: 25px;
  position: relative;
}

.produto-nome {
  font-size: 1.5rem;
  font-weight: 800;
  margin-bottom: 12px;
  color: var(--preto-carbon);
  background: linear-gradient(135deg, var(--preto-carbon), var(--vermelho-burger));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.produto-descricao {
  color: var(--cinza-chic);
  margin-bottom: 20px;
  line-height: 1.6;
  max-height: 4.8em;
  overflow: hidden;
  position: relative;
}

.produto-descricao::after {
  content: "";
  position: absolute;
  bottom: 0;
  right: 0;
  width: 70%;
  height: 1.6em;
  background: linear-gradient(to right, transparent, var(--branco-gelo) 50%);
}

.produto-preco {
  font-size: 2rem;
  font-weight: 900;
  color: var(--verde-escuro);
  margin-bottom: 20px;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
  position: relative;
  display: inline-block;
}

.produto-preco::before {
  content: "üí∞";
  position: absolute;
  left: -35px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 1.5rem;
  opacity: 0.7;
}

.produto-acoes {
  display: flex;
  gap: 12px;
}

/* üé™ ANIMA√á√ïES ESPECIAIS */
@keyframes slideInRight {
  0% { 
    opacity: 0;
    transform: translateX(100px) rotate(10deg);
  }
  100% { 
    opacity: 1;
    transform: translateX(0) rotate(0deg);
  }
}

@keyframes fadeInUp {
  0% { 
    opacity: 0;
    transform: translateY(50px) scale(0.9);
  }
  100% { 
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* üì± RESPONSIVIDADE PREMIUM */
@media (max-width: 1200px) {
  .container {
    padding: 25px;
    max-width: 100%;
  }
  
  h1, .header__title {
    font-size: 3rem;
  }
  
  .produtos-grid {
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 25px;
  }
}

@media (max-width: 768px) {
  .container {
    padding: 20px;
  }
  
  header, .header {
    padding: 30px 20px;
    border-radius: var(--radius-medium);
  }
  
  h1, .header__title {
    font-size: 2.5rem;
    flex-direction: column;
    gap: 10px;
  }
  
  .logo {
    flex-direction: column;
    gap: 15px;
  }
  
  .logo__icon {
    font-size: 3rem;
  }
  
  .nav__list, .main-nav {
    flex-direction: column;
    gap: 10px;
  }
  
  .nav__link, .nav-link {
    padding: 16px 24px;
    justify-content: center;
  }
  
  .header-actions, .card__header {
    flex-direction: column;
    align-items: stretch;
    text-align: center;
    gap: 15px;
  }
  
  .card {
    padding: 30px 20px;
    border-radius: var(--radius-medium);
  }
  
  .produtos-grid {
    grid-template-columns: 1fr;
    gap: 20px;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
  
  .filter-group {
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
  }
  
  .footer__content {
    flex-direction: column;
    text-align: center;
    gap: 15px;
  }
}

@media (max-width: 480px) {
  body {
    padding: 15px;
  }
  
  .container {
    padding: 15px;
  }
  
  h1, .header__title {
    font-size: 2rem;
  }
  
  .logo__icon {
    font-size: 2.5rem;
  }
  
  .subtitle {
    font-size: 1.2rem;
  }
  
  .card {
    padding: 25px 15px;
  }
  
  .produto-card {
    margin: 0 -5px;
  }
}

/* ‚ú® EFEITOS ESPECIAIS DE PERFORMANCE */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* üéØ ESTADOS DE FOCO PARA ACESSIBILIDADE */
.btn:focus-visible,
.nav__link:focus-visible,
.nav-link:focus-visible,
.filter-select:focus-visible,
.footer__link:focus-visible {
  outline: 3px solid var(--laranja-queijo);
  outline-offset: 2px;
  box-shadow: 0 0 0 6px rgba(255, 165, 2, 0.3);
}

/* üåô SUPORTE A DARK MODE */
@media (prefers-color-scheme: dark) {
  :root {
    --preto-carbon: #ecf0f1;
    --cinza-claro: #2c3e50;
    --branco-gelo: #34495e;
    --gradient-card: linear-gradient(145deg, #34495e, #2c3e50);
  }
  
  body {
    background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
  }
}

/* üí´ LOADING ANIMADO */
.loading {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 60px;
  position: relative;
}

.loading::before {
  content: "üçî";
  font-size: 3rem;
  animation: burgerLoad 2s ease-in-out infinite;
}

@keyframes burgerLoad {
  0%, 100% { 
    transform: scale(1) rotate(0deg);
    filter: hue-rotate(0deg);
  }
  25% { 
    transform: scale(1.2) rotate(90deg);
    filter: hue-rotate(90deg);
  }
  50% { 
    transform: scale(1.1) rotate(180deg);
    filter: hue-rotate(180deg);
  }
  75% { 
    transform: scale(1.2) rotate(270deg);
    filter: hue-rotate(270deg);
  }
}

/* üéä MENSAGENS ANIMADAS */
.message {
  padding: 20px 25px;
  border-radius: var(--radius-medium);
  margin-bottom: 15px;
  box-shadow: var(--shadow-bold);
  display: flex;
  align-items: center;
  gap: 15px;
  animation: messageSlide 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  border-left: 6px solid;
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
}

.message::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, rgba(255,255,255,0.1), transparent);
}

@keyframes messageSlide {
  0% {
    opacity: 0;
    transform: translateX(100%) scale(0.8);
  }
  70% {
    transform: translateX(-10%) scale(1.05);
  }
  100% {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

.message.success {
  background: linear-gradient(135deg, #d4edda, #c3e6cb);
  color: #155724;
  border-left-color: var(--verde-alface);
}

.message.error {
  background: linear-gradient(135deg, #f8d7da, #f1b0b7);
  color: #721c24;
  border-left-color: var(--vermelho-burger);
}

.message.info {
  background: linear-gradient(135deg, #d1ecf1, #b8e2eb);
  color: #0c5460;
  border-left-color: var(--azul-refri);
}

.message.warning {
  background: linear-gradient(135deg, #fff3cd, #ffeaa7);
  color: #856404;
  border-left-color: var(--laranja-queijo);
}

/* üö® FOR√áA SOBRESCREVER ESTILOS ANTIGOS */
a[href="#main-content"] {
  all: unset !important;
}

select.filter-select,
input.filter-select {
  all: unset !important;
}

.footer__link,
button.footer__link {
  all: unset !important;
}

/* APLICA ESTILOS NOVOS FOR√áADAMENTE */
a.skip-link {
  position: absolute !important;
  top: -100px !important;
  left: -100px !important;
  width: 1px !important;
  height: 1px !important;
  overflow: hidden !important;
  opacity: 0 !important;
}

a.skip-link:focus {
  all: unset !important;
  position: fixed !important;
  top: 20px !important;
  left: 20px !important;
  background: var(--gradient-burger) !important;
  color: var(--branco-gelo) !important;
  padding: 15px 25px !important;
  border-radius: var(--radius-pill) !important;
  text-decoration: none !important;
  font-weight: 700 !important;
  box-shadow: var(--shadow-bold) !important;
  z-index: 10000 !important;
  opacity: 1 !important;
  border: 3px solid var(--branco-gelo) !important;
  animation: buttonPulse 2s infinite !important;
}
</style>

<style>
/* ===== üîß CORRE√á√ïES DE FUNCIONALIDADE - MODAL STATUS ===== */

/* MODAL DE STATUS FUNCIONAL */
.status-options {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin: 20px 0;
}

.status-option {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 18px 20px;
  background: var(--gradient-card);
  border: 3px solid var(--cinza-claro);
  border-radius: var(--radius-medium);
  cursor: pointer;
  transition: var(--transition-smooth);
  font-weight: 600;
  color: var(--preto-carbon);
}

.status-option:hover {
  transform: translateX(8px);
  border-color: var(--laranja-queijo);
  box-shadow: var(--shadow-medium);
}

.status-option--active {
  border-color: var(--verde-alface);
  background: linear-gradient(135deg, var(--gradient-card), rgba(46, 213, 115, 0.1));
  box-shadow: var(--shadow-soft);
}

.status-option input[type="radio"] {
  width: 20px;
  height: 20px;
  accent-color: var(--verde-alface);
}

.status-option__text {
  font-size: 1.1rem;
  font-weight: 700;
}

/* GARANTIR QUE O MODAL SEJA CLIC√ÅVEL */
.modal {
  z-index: 10000 !important;
}

.modal__content {
  z-index: 10001 !important;
  position: relative;
}

/* BOT√ïES DO MODAL FUNCIONAIS */
.modal__footer .btn {
  min-width: 120px;
}

/* ===== üîß CORRE√á√ïES DE FUNCIONALIDADE - C√ÅLCULO PEDIDO ===== */

/* RESUMO DO PEDIDO VIS√çVEL E BONITO */
.pedido-summary {
  background: var(--gradient-card);
  padding: 25px;
  border-radius: var(--radius-medium);
  border: 3px solid var(--laranja-queijo);
  margin: 25px 0;
  box-shadow: var(--shadow-medium);
  animation: fadeInUp 0.6s ease-out;
}

.pedido-summary:not([hidden]) {
  display: block !important;
}

.summary-title {
  color: var(--preto-carbon);
  font-size: 1.5rem;
  font-weight: 800;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  gap: 10px;
  border-bottom: 2px solid var(--laranja-queijo);
  padding-bottom: 10px;
}

.summary-content {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
}

.summary-item {
  background: rgba(255, 255, 255, 0.5);
  padding: 15px;
  border-radius: var(--radius-small);
  border-left: 4px solid var(--vermelho-burger);
}

.summary-item strong {
  color: var(--preto-carbon);
  display: block;
  margin-bottom: 5px;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.summary-list {
  list-style: none;
  margin: 10px 0;
}

.summary-list__item {
  padding: 8px 0;
  border-bottom: 1px solid rgba(0,0,0,0.1);
  display: flex;
  justify-content: space-between;
  font-size: 0.9rem;
}

.summary-list__item:last-child {
  border-bottom: none;
}

.summary-total {
  background: var(--gradient-burger);
  color: var(--branco-gelo);
  padding: 20px;
  border-radius: var(--radius-medium);
  text-align: center;
  font-size: 1.4rem;
  font-weight: 800;
  margin-top: 15px;
  box-shadow: var(--shadow-medium);
  animation: pulse 2s infinite;
}

/* ITENS DO PEDIDO COM C√ÅLCULO AUTOM√ÅTICO */
.order-item {
  background: var(--gradient-card);
  padding: 20px;
  border-radius: var(--radius-medium);
  margin-bottom: 15px;
  border: 2px solid transparent;
  transition: var(--transition-smooth);
  display: flex;
  gap: 15px;
  align-items: center;
}

.order-item:hover {
  border-color: var(--laranja-queijo);
  transform: translateX(5px);
}

.order-item__select {
  flex: 2;
  min-width: 0;
}

.order-item__input {
  flex: 1;
  min-width: 80px;
}

.order-item__subtotal {
  flex: 1;
  min-width: 100px;
  text-align: right;
  font-weight: 700;
  color: var(--verde-escuro);
  font-size: 1.1rem;
}

.order-item__remove {
  background: var(--vermelho-burger);
  color: var(--branco-gelo);
  border: none;
  padding: 12px;
  border-radius: var(--radius-small);
  cursor: pointer;
  transition: var(--transition-smooth);
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 44px;
  min-height: 44px;
}

.order-item__remove:hover {
  background: var(--vermelho-salsa);
  transform: scale(1.1);
}

/* FORMUL√ÅRIO DE PEDIDO MELHORADO */
.pedido-form {
  position: relative;
}

.form-progress {
  background: var(--gradient-card);
  padding: 15px;
  border-radius: var(--radius-medium);
  margin: 20px 0;
  border: 2px solid var(--laranja-queijo);
}

.form-progress__bar {
  height: 8px;
  background: rgba(0,0,0,0.1);
  border-radius: 4px;
  overflow: hidden;
  margin: 10px 0;
}

.form-progress__fill {
  height: 100%;
  background: var(--gradient-burger);
  border-radius: 4px;
  transition: width 0.5s ease;
  width: 0%;
}

.form-progress__text {
  font-weight: 700;
  color: var(--preto-carbon);
  text-align: center;
  display: block;
}

/* ===== üé® MELHORIAS VISUAIS ADICIONAIS ===== */

/* BADGES DE STATUS MELHORADOS */
.badge--status-em-preparo {
  background: var(--gradient-queijo);
  color: var(--branco-gelo);
}

.badge--status-pronto {
  background: var(--gradient-verde);
  color: var(--branco-gelo);
}

.badge--status-entregue {
  background: var(--gradient-azul);
  color: var(--branco-gelo);
}

/* CARDS DE PEDIDO INTERATIVOS */
.pedido-card {
  cursor: pointer;
  transition: var(--transition-bounce);
}

.pedido-card:hover {
  transform: translateY(-8px) scale(1.02);
}

/* ANIMA√á√ÉO DE CARREGAMENTO PARA C√ÅLCULOS */
.calculando {
  position: relative;
  opacity: 0.7;
}

.calculando::after {
  content: "üîÑ Calculando...";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--gradient-burger);
  color: var(--branco-gelo);
  padding: 10px 20px;
  border-radius: var(--radius-pill);
  font-weight: 700;
  animation: pulse 1.5s infinite;
}

/* ===== üîß GARANTIR FUNCIONALIDADE JAVASCRIPT ===== */

/* ESTILOS PARA ELEMENTOS CRIADOS VIA JS */
[data-pedido-id] {
  position: relative;
}

.status-badge {
  cursor: pointer;
  transition: var(--transition-smooth);
}

.status-badge:hover {
  transform: scale(1.1);
  box-shadow: var(--shadow-glow);
}

/* VISUALIZA√á√ÉO DO CARRINHO */
.carrinho-total {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: var(--gradient-burger);
  color: var(--branco-gelo);
  padding: 20px 25px;
  border-radius: var(--radius-large);
  box-shadow: var(--shadow-bold);
  z-index: 999;
  font-weight: 800;
  font-size: 1.3rem;
  animation: slideInRight 0.5s ease-out;
  border: 3px solid var(--branco-gelo);
}

.carrinho-total::before {
  content: "üí∞ Total: ";
  font-weight: 600;
  font-size: 1rem;
  opacity: 0.9;
}

/* RESPONSIVIDADE PARA FUNCIONALIDADES */
@media (max-width: 768px) {
  .order-item {
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
  }
  
  .order-item__select,
  .order-item__input,
  .order-item__subtotal {
    width: 100%;
  }
  
  .carrinho-total {
    bottom: 20px;
    right: 20px;
    left: 20px;
    text-align: center;
  }
  
  .summary-content {
    grid-template-columns: 1fr;
  }
}

/* ANIMA√á√ÉO DE ATUALIZA√á√ÉO DE STATUS */
.status-updated {
  animation: statusUpdate 1s ease;
}

@keyframes statusUpdate {
  0% { 
    background: var(--gradient-burger);
    transform: scale(1);
  }
  50% { 
    background: var(--gradient-verde);
    transform: scale(1.05);
  }
  100% { 
    background: var(--gradient-card);
    transform: scale(1);
  }
}

/* FEEDBACK VISUAL PARA INTERA√á√ïES */
.btn:active,
.nav__link:active,
.nav-link:active {
  transform: scale(0.95) !important;
}

/* GARANTIR QUE TODOS OS MODAIS SEJAM CLIC√ÅVEIS */
.modal * {
  pointer-events: auto !important;
}

.modal {
  pointer-events: none !important;
}

.modal > * {
  pointer-events: auto !important;
}

/* ESTILO BONITO PARA O RESUMO */
.pedido-summary {
    display: block !important;
    background: linear-gradient(135deg, #ffffff, #f8f9fa);
    padding: 25px;
    border-radius: 15px;
    border: 3px solid #ffa502;
    margin: 25px 0;
    box-shadow: 0 8px 25px rgba(255, 165, 2, 0.2);
    color: #2c3e50 !important; /* Cor do texto */
}

.pedido-summary h3 {
    color: #2c3e50 !important;
    font-size: 1.4rem;
    margin-bottom: 20px;
    border-bottom: 2px solid #ffa502;
    padding-bottom: 10px;
}

.summary-content {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.summary-content div {
    background: rgba(255, 255, 255, 0.8);
    padding: 15px;
    border-radius: 10px;
    border-left: 4px solid #ff4757;
    color: #2c3e50 !important;
}

.summary-content strong {
    color: #2c3e50 !important;
    display: block;
    margin-bottom: 5px;
    font-size: 1rem;
}

.summary-content span {
    color: #2c3e50 !important;
}

/* CENTRALIZAR OS ITENS DO RESUMO */
.summary-item {
    text-align: center !important;
}

.summary-item strong {
    display: block;
    margin-bottom: 10px;
    font-size: 1.1rem;
}

.summary-list__item {
    display: flex;
    justify-content: center;
    gap: 20px;
    padding: 8px 0;
    border-bottom: 1px solid #f0f0f0;
}

/* Ou se preferir alinhar √† esquerda mas centralizado no bloco */
.summary-content {
    text-align: center;
}

.summary-content > div {
    text-align: center;
}
</style>
</head>

<script>
// ===== üîß CORRE√á√ïES DE FUNCIONALIDADE - JAVASCRIPT =====

document.addEventListener('DOMContentLoaded', function() {
    console.log('üîß Iniciando corre√ß√µes de funcionalidade...');
    
    // CORRE√á√ÉO 1: C√ÅLCULO AUTOM√ÅTICO DO PEDIDO
    corrigirCalculoPedido();
    
    // CORRE√á√ÉO 2: MODAL DE STATUS FUNCIONAL
    corrigirModalStatus();
    
    // CORRE√á√ÉO 3: ATUALIZA√á√ÉO EM TEMPO REAL
    configurarAtualizacaoTempoReal();
});

/**
 * CORRE√á√ÉO 1: C√ÅLCULO AUTOM√ÅTICO DO PEDIDO
 */
function corrigirCalculoPedido() {
    console.log('üí∞ Configurando c√°lculo autom√°tico do pedido...');
    
    // Observar mudan√ßas nos itens do pedido
    const itensContainer = document.getElementById('itens-container');
    if (itensContainer) {
        // Configurar MutationObserver para detectar mudan√ßas
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.type === 'childList') {
                    setTimeout(calcularTotalPedido, 100);
                }
            });
        });
        
        observer.observe(itensContainer, { childList: true, subtree: true });
        
        // Tamb√©m observar mudan√ßas nos inputs e selects
        itensContainer.addEventListener('input', function(e) {
            if (e.target.classList.contains('order-item__input') || 
                e.target.classList.contains('order-item__select')) {
                setTimeout(calcularTotalPedido, 50);
            }
        });
        
        // Calcular total inicial
        setTimeout(calcularTotalPedido, 500);
    }
}

/**
 * Calcular total do pedido em tempo real
 */
function calcularTotalPedido() {
    console.log('üßÆ Calculando total do pedido...');
    
    let total = 0;
    const itens = document.querySelectorAll('.order-item');
    
    itens.forEach(function(item) {
        const select = item.querySelector('.order-item__select');
        const input = item.querySelector('.order-item__input');
        const subtotalElement = item.querySelector('.order-item__subtotal');
        
        if (select && input && select.value) {
            const preco = parseFloat(select.selectedOptions[0]?.dataset.preco || 0);
            const quantidade = parseInt(input.value) || 0;
            const subtotal = preco * quantidade;
            
            total += subtotal;
            
            // Atualizar subtotal do item
            if (subtotalElement) {
                subtotalElement.textContent = formatarMoeda(subtotal);
            } else {
                // Criar elemento de subtotal se n√£o existir
                const novoSubtotal = document.createElement('div');
                novoSubtotal.className = 'order-item__subtotal';
                novoSubtotal.textContent = formatarMoeda(subtotal);
                item.appendChild(novoSubtotal);
            }
        }
    });
    
    // Atualizar total geral
    atualizarTotalGeral(total);
    atualizarResumoPedido(total);
}

/**
 * Atualizar total geral vis√≠vel
 */
function atualizarTotalGeral(total) {
    // Atualizar no carrinho fixo
    let carrinhoTotal = document.querySelector('.carrinho-total');
    if (!carrinhoTotal) {
        carrinhoTotal = document.createElement('div');
        carrinhoTotal.className = 'carrinho-total';
        document.body.appendChild(carrinhoTotal);
    }
    carrinhoTotal.textContent = formatarMoeda(total);
    
    // Atualizar no resumo do pedido
    const resumoTotal = document.querySelector('.pedido-summary .summary-total');
    if (resumoTotal) {
        resumoTotal.textContent = `Total: ${formatarMoeda(total)}`;
    }
}

/**
 * Atualizar resumo completo do pedido
 */
function atualizarResumoPedido(total) {
    const pedidoSummary = document.getElementById('pedido-summary');
    const summaryContent = document.getElementById('summary-content');
    
    if (!pedidoSummary || !summaryContent) return;
    
    const cliente = document.getElementById('cliente')?.value || 'N√£o informado';
    const status = document.getElementById('status')?.value || 'Em preparo';
    
    let itensHTML = '';
    const itensElements = document.querySelectorAll('.order-item');
    
    itensElements.forEach((item, index) => {
        const select = item.querySelector('.order-item__select');
        const input = item.querySelector('.order-item__input');
        
        if (select && input && select.value) {
            const produtoNome = select.selectedOptions[0]?.textContent.split(' - ')[0] || 'Produto';
            const quantidade = input.value || '0';
            const preco = parseFloat(select.selectedOptions[0]?.dataset.preco || 0);
            const subtotal = preco * parseInt(quantidade);
            
            itensHTML += `
                <div class="summary-list__item">
                    <span>${quantidade}x ${produtoNome}</span>
                    <span>${formatarMoeda(subtotal)}</span>
                </div>
            `;
        }
    });
    
    summaryContent.innerHTML = `
        <div class="summary-item">
            <strong>Cliente</strong>
            <span>${cliente}</span>
        </div>
        <div class="summary-item">
            <strong>Status</strong>
            <span class="badge badge--status-${status.toLowerCase().replace(' ', '-')}">${status}</span>
        </div>
        <div class="summary-item">
            <strong>Itens do Pedido</strong>
            <div class="summary-list">
                ${itensHTML || '<div class="summary-list__item">Nenhum item adicionado</div>'}
            </div>
        </div>
        <div class="summary-total">
            ${formatarMoeda(total)}
        </div>
    `;
    
    // Mostrar resumo
    pedidoSummary.hidden = false;
}

/**
 * CORRE√á√ÉO 2: MODAL DE STATUS FUNCIONAL
 */
function corrigirModalStatus() {
    console.log('üîÑ Configurando modal de status funcional...');
    
    // Sobrescrever fun√ß√£o global se existir
    if (typeof window.editarStatusPedido !== 'undefined') {
        const originalEditarStatusPedido = window.editarStatusPedido;
        
        window.editarStatusPedido = function(pedidoId) {
            console.log(`‚úèÔ∏è Editando status do pedido ${pedidoId}`);
            originalEditarStatusPedido.call(this, pedidoId);
            
            // Garantir que o modal seja clic√°vel
            setTimeout(() => {
                const modal = document.querySelector('.modal');
                if (modal) {
                    modal.style.display = 'flex';
                    modal.style.zIndex = '10000';
                    modal.style.pointerEvents = 'auto';
                }
            }, 100);
        };
    }
    
    // Melhorar clicabilidade dos status options
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('status-option')) {
            const radio = e.target.querySelector('input[type="radio"]');
            if (radio) {
                radio.checked = true;
                e.target.classList.add('status-option--active');
                
                // Remover active dos outros
                e.target.parentNode.querySelectorAll('.status-option').forEach(opt => {
                    if (opt !== e.target) {
                        opt.classList.remove('status-option--active');
                    }
                });
            }
        }
    });
}

/**
 * CORRE√á√ÉO 3: ATUALIZA√á√ÉO EM TEMPO REAL
 */
function configurarAtualizacaoTempoReal() {
    console.log('‚ö° Configurando atualiza√ß√µes em tempo real...');
    
    // Observar mudan√ßas no formul√°rio principal
    const formPedido = document.getElementById('form-pedido');
    if (formPedido) {
        formPedido.addEventListener('input', function(e) {
            if (e.target.id === 'cliente' || e.target.id === 'status') {
                setTimeout(calcularTotalPedido, 100);
            }
        });
    }
    
    // Configurar intervalo para atualiza√ß√µes peri√≥dicas
    setInterval(calcularTotalPedido, 2000);
}

/**
 * Utilit√°rio: Formatar moeda
 */
function formatarMoeda(valor) {
    return new Intl.NumberFormat('pt-BR', {
        style: 'currency',
        currency: 'BRL'
    }).format(valor);
}

/**
 * Utilit√°rio: Mostrar notifica√ß√£o
 */
function mostrarNotificacao(mensagem, tipo = 'info') {
    console.log(`üì¢ ${tipo}: ${mensagem}`);
    
    // Implementa√ß√£o b√°sica de notifica√ß√£o
    const notification = document.createElement('div');
    notification.className = `message message--${tipo} message-fade`;
    notification.innerHTML = `
        <i class="fas fa-${tipo === 'success' ? 'check' : 'info'}-circle"></i>
        <span>${mensagem}</span>
    `;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.remove();
    }, 3000);
}

// Exportar fun√ß√µes para uso global
window.calcularTotalPedido = calcularTotalPedido;
window.atualizarResumoPedido = atualizarResumoPedido;
window.mostrarNotificacao = mostrarNotificacao;

console.log('‚úÖ Corre√ß√µes de funcionalidade carregadas!');
</script>

<body>

    <div class="container">
        <!-- Cabe√ßalho -->
        <header class="header" role="banner">
            <div class="header__content">
                <div class="logo">
                    <i class="fas fa-hamburger logo__icon" aria-hidden="true"></i>
                    <h1 class="header__title">
                        FastPedido
                    </h1>
                </div>
                
                <p class="subtitle">
                    Criar novo pedido
                </p>
                
               

        <!-- Navega√ß√£o principal -->
        <nav class="nav" role="navigation" aria-label="Navega√ß√£o principal">
            <ul class="nav__list" role="menubar">
                <li class="nav__item" role="none">
                    <a href="index.html" class="nav__link" role="menuitem">
                        <i class="fas fa-list nav__icon" aria-hidden="true"></i>
                        <span class="nav__text">Pedidos</span>
                    </a>
                </li>
                <li class="nav__item" role="none">
                    <a href="produtos.html" class="nav__link" role="menuitem">
                        <i class="fas fa-utensils nav__icon" aria-hidden="true"></i>
                        <span class="nav__text">Produtos</span>
                    </a>
                </li>
                <li class="nav__item" role="none">
                    <a href="novo-pedido.html" class="nav__link nav__link--active" role="menuitem" aria-current="page">
                        <i class="fas fa-plus-circle nav__icon" aria-hidden="true"></i>
                        <span class="nav__text">Novo Pedido</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Conte√∫do principal -->
        <main id="main-content" class="main" role="main">
            <!-- Cart√£o do formul√°rio -->
            <section class="card" aria-labelledby="form-title">
                <div class="card__header">
                    <h2 class="card__title" id="form-title">
                        <i class="fas fa-plus-circle card__icon" aria-hidden="true"></i>
                        Novo Pedido
                    </h2>
                    
                    <!-- Indicador de progresso -->
                    <div class="form-progress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                        <div class="form-progress__bar">
                            <div class="form-progress__fill" id="progress-fill"></div>
                        </div>
                        <span class="form-progress__text" id="progress-text">0% completo</span>
                    </div>
                </div>

                <form id="form-pedido" class="pedido-form" novalidate>
                    <!-- Informa√ß√µes do Cliente -->
                    <fieldset class="form-section">
                        <legend class="form-section__title">
                            <i class="fas fa-user form-section__icon" aria-hidden="true"></i>
                            Informa√ß√µes do Cliente
                        </legend>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="cliente" class="form-label">
                                    Nome do Cliente *
                                </label>
                                <input type="text" 
                                       id="cliente" 
                                       name="cliente"
                                       class="form-control" 
                                       required 
                                       placeholder="Digite o nome completo do cliente"
                                       aria-describedby="cliente-help"
                                       maxlength="100">
                                <div id="cliente-help" class="form-help">
                                    Nome completo do cliente para identifica√ß√£o
                                </div>
                                <div class="form-feedback" id="cliente-feedback" aria-live="polite"></div>
                            </div>
                            
                            <div class="form-group">
                                <label for="telefone" class="form-label">
                                    Telefone (Opcional)
                                </label>
                                <input type="tel" 
                                       id="telefone" 
                                       name="telefone"
                                       class="form-control" 
                                       placeholder="(11) 99999-9999"
                                       pattern="\([0-9]{2}\) [0-9]{5}-[0-9]{4}"
                                       aria-describedby="telefone-help">
                                <div id="telefone-help" class="form-help">
                                    Formato: (11) 99999-9999
                                </div>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Status do Pedido -->
                    <fieldset class="form-section">
                        <legend class="form-section__title">
                            <i class="fas fa-tag form-section__icon" aria-hidden="true"></i>
                            Status do Pedido
                        </legend>
                        
                        <div class="form-group">
                            <label for="status" class="form-label">
                                Status do Pedido *
                            </label>
                            <select id="status" 
                                    name="status"
                                    class="form-control" 
                                    required
                                    aria-describedby="status-help">
                                <option value="">Selecione um status</option>
                                <option value="Em preparo" selected>Em preparo</option>
                                <option value="Pronto">Pronto</option>
                                <option value="Entregue">Entregue</option>
                            </select>
                            <div id="status-help" class="form-help">
                                Defina o status atual do pedido
                            </div>
                        </div>
                    </fieldset>

                    <!-- Itens do Pedido -->
                    <fieldset class="form-section" id="itens-section">
                        <legend class="form-section__title">
                            <i class="fas fa-utensils form-section__icon" aria-hidden="true"></i>
                            Itens do Pedido
                            <span class="badge badge--primary" id="itens-count">0 itens</span>
                        </legend>
                        
                        <div class="form-help mb-lg">
                            Adicione os produtos que comp√µem este pedido. Voc√™ pode adicionar m√∫ltiplos itens.
                        </div>

                        <!-- Container de itens -->
                        <div id="itens-container" class="itens-container" role="list" aria-label="Lista de itens do pedido">
                            <!-- Itens ser√£o adicionados aqui dinamicamente -->
                        </div>

                        <!-- Estado vazio dos itens -->
                        <div id="itens-empty-state" class="empty-state empty-state--compact" role="status">
                            <i class="fas fa-shopping-basket empty-state__icon" aria-hidden="true"></i>
                            <p class="empty-state__text">Nenhum item adicionado</p>
                        </div>

                        <!-- A√ß√µes dos itens -->
                        <div class="itens-actions">
                            <button type="button" 
                                    class="btn btn--primary" 
                                    id="add-item-btn"
                                    onclick="adicionarItem()">
                                <i class="fas fa-plus" aria-hidden="true"></i>
                                Adicionar Item
                            </button>
                            
                            <div class="itens-summary" id="itens-summary" aria-live="polite">
                                <!-- Resumo ser√° atualizado dinamicamente -->
                            </div>
                        </div>
                    </fieldset>

                    <!-- Observa√ß√µes -->
                    <fieldset class="form-section">
                        <legend class="form-section__title">
                            <i class="fas fa-sticky-note form-section__icon" aria-hidden="true"></i>
                            Observa√ß√µes (Opcional)
                        </legend>
                        
                        <div class="form-group">
                            <label for="observacoes" class="form-label">
                                Observa√ß√µes do Pedido
                            </label>
                            <textarea id="observacoes" 
                                      name="observacoes"
                                      class="form-control form-control--textarea" 
                                      rows="3" 
                                      placeholder="Adicione observa√ß√µes especiais, instru√ß√µes de entrega, ou informa√ß√µes adicionais..."
                                      maxlength="500"
                                      aria-describedby="observacoes-help"></textarea>
                            <div id="observacoes-help" class="form-help">
                                M√°ximo de 500 caracteres. 
                                <span id="observacoes-counter" class="char-counter">500 restantes</span>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Resumo do Pedido -->
                    <div class="pedido-summary" id="pedido-summary" aria-live="polite" style="display: block;">
                      <h3 style="color: #2c3e50; font-size: 1.4rem; margin-bottom: 20px; border-bottom: 2px solid #ffa502; padding-bottom: 10px;">
                          <i class="fas fa-receipt"></i>
                          Resumo do Pedido
                      </h3>
                      <div class="summary-content" id="summary-content">
                          <!-- O conte√∫do ser√° preenchido pelo JavaScript -->
                      </div>
                  </div>
                        <h3 class="summary-title">
                            <i class="fas fa-receipt" aria-hidden="true"></i>
                            Resumo do Pedido
                        </h3>
                        <div class="summary-content" id="summary-content">
                            <!-- Resumo ser√° preenchido dinamicamente -->
                        </div>
                    </div>

                    <!-- A√ß√µes do Formul√°rio -->
                    <div class="form-actions form-actions--sticky">
                        <div class="action-group">
                            <button type="button" 
                                    class="btn btn--secondary" 
                                    onclick="window.location.href='index.html'"
                                    id="cancel-btn">
                                <i class="fas fa-times" aria-hidden="true"></i>
                                Cancelar
                            </button>
                            
                            <button type="reset" 
                                    class="btn btn--outline" 
                                    id="reset-btn">
                                <i class="fas fa-undo" aria-hidden="true"></i>
                                Limpar
                            </button>
                        </div>
                        
                        <div class="action-group">
                            <button type="submit" 
                                    class="btn btn--primary btn--lg" 
                                    id="submit-btn">
                                <i class="fas fa-save" aria-hidden="true"></i>
                                Criar Pedido
                            </button>
                        </div>
                    </div>
                </form>
            </section>
        </main>

        <!-- √Årea de mensagens do sistema -->
        <div id="message-area" class="message-area" role="status" aria-live="polite" aria-atomic="true"></div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer__content">
                <p class="footer__text">
                    &copy; 2024 FastPedido. Sistema de gerenciamento de pedidos.
                </p>
            </div>
        </footer>
    </div>

    <!-- Scripts da aplica√ß√£o -->
    <script src="js/supabase-client.js"></script>
    <script src="js/novo-pedido.js"></script>
    
    <!-- Script de melhorias para o formul√°rio -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar melhorias do formul√°rio
            inicializarMelhoriasFormulario();
            
            // Configurar valida√ß√µes em tempo real
            configurarValidacoesTempoReal();
            
            // Configurar contador de caracteres
            configurarContadorCaracteres();
        });

        function inicializarMelhoriasFormulario() {
            // Atualizar progresso do formul√°rio
            const campos = document.querySelectorAll('#form-pedido [required]');
            campos.forEach(campo => {
                campo.addEventListener('input', atualizarProgressoFormulario);
                campo.addEventListener('change', atualizarProgressoFormulario);
            });

            // Configurar bot√£o de limpar
            const resetBtn = document.getElementById('reset-btn');
            if (resetBtn) {
                resetBtn.addEventListener('click', function() {
                    mostrarConfirmacao(
                        'Limpar Formul√°rio',
                        'Tem certeza que deseja limpar todos os dados do formul√°rio?',
                        function() {
                            document.getElementById('form-pedido').reset();
                            document.getElementById('itens-container').innerHTML = '';
                            atualizarProgressoFormulario();
                            atualizarResumoItens();
                            mostrarMensagem('Formul√°rio limpo com sucesso', 'success');
                        }
                    );
                });
            }

            // Prevenir envio duplo
            const form = document.getElementById('form-pedido');
            form.addEventListener('submit', function(e) {
                const submitBtn = document.getElementById('submit-btn');
                if (submitBtn.disabled) {
                    e.preventDefault();
                    return;
                }
            });
        }

        function configurarValidacoesTempoReal() {
            const clienteInput = document.getElementById('cliente');
            const telefoneInput = document.getElementById('telefone');
            const feedback = document.getElementById('cliente-feedback');

            if (clienteInput && feedback) {
                clienteInput.addEventListener('input', function() {
                    const valor = this.value.trim();
                    
                    if (valor.length === 0) {
                        feedback.textContent = '';
                        this.classList.remove('form-control--valid', 'form-control--invalid');
                    } else if (valor.length < 2) {
                        feedback.textContent = 'Nome muito curto';
                        this.classList.add('form-control--invalid');
                        this.classList.remove('form-control--valid');
                    } else {
                        feedback.textContent = 'Nome v√°lido';
                        this.classList.add('form-control--valid');
                        this.classList.remove('form-control--invalid');
                    }
                });
            }

            if (telefoneInput) {
                telefoneInput.addEventListener('input', function(e) {
                    let valor = e.target.value.replace(/\D/g, '');
                    
                    if (valor.length > 0) {
                        valor = valor.replace(/^(\d{2})(\d)/g, '($1) $2');
                        valor = valor.replace(/(\d{5})(\d)/, '$1-$2');
                        valor = valor.substring(0, 15);
                    }
                    
                    e.target.value = valor;
                });
            }
        }

        function configurarContadorCaracteres() {
            const observacoes = document.getElementById('observacoes');
            const counter = document.getElementById('observacoes-counter');

            if (observacoes && counter) {
                observacoes.addEventListener('input', function() {
                    const restantes = 500 - this.value.length;
                    counter.textContent = `${restantes} caracteres restantes`;
                    
                    if (restantes < 50) {
                        counter.classList.add('char-counter--warning');
                    } else {
                        counter.classList.remove('char-counter--warning');
                    }
                    
                    if (restantes < 0) {
                        this.value = this.value.substring(0, 500);
                    }
                });
            }
        }

        function atualizarProgressoFormulario() {
            const camposObrigatorios = document.querySelectorAll('#form-pedido [required]');
            const itensContainer = document.getElementById('itens-container');
            const itens = itensContainer.querySelectorAll('.order-item');
            
            let preenchidos = 0;
            let total = camposObrigatorios.length + 1; // +1 para pelo menos um item

            // Contar campos obrigat√≥rios preenchidos
            camposObrigatorios.forEach(campo => {
                if (campo.type === 'select-one') {
                    if (campo.value) preenchidos++;
                } else {
                    if (campo.value.trim()) preenchidos++;
                }
            });

            // Verificar se tem pelo menos um item
            if (itens.length > 0) {
                const itensValidos = Array.from(itens).every(item => {
                    const select = item.querySelector('select');
                    const input = item.querySelector('input[type="number"]');
                    return select.value && input.value && parseInt(input.value) > 0;
                });
                
                if (itensValidos) preenchidos++;
            }

            const progresso = Math.round((preenchidos / total) * 100);
            const progressFill = document.getElementById('progress-fill');
            const progressText = document.getElementById('progress-text');

            if (progressFill) {
                progressFill.style.width = `${progresso}%`;
            }

            if (progressText) {
                progressText.textContent = `${progresso}% completo`;
            }

            // Atualizar resumo do pedido
            atualizarResumoPedido();
        }

        function atualizarResumoPedido() {
            const summary = document.getElementById('pedido-summary');
            const content = document.getElementById('summary-content');
            const cliente = document.getElementById('cliente').value;
            const status = document.getElementById('status').value;
            const itens = document.getElementById('itens-container').querySelectorAll('.order-item');
            
            if (cliente && status && itens.length > 0) {
                let total = 0;
                let html = `
                    <div class="summary-item">
                        <strong>Cliente:</strong> ${cliente}
                    </div>
                    <div class="summary-item">
                        <strong>Status:</strong> <span class="status-badge status-${status.toLowerCase().replace(' ', '-')}">${status}</span>
                    </div>
                    <div class="summary-item">
                        <strong>Itens:</strong>
                        <ul class="summary-list">
                `;

                itens.forEach(item => {
                    const select = item.querySelector('select');
                    const quantidade = item.querySelector('input[type="number"]').value;
                    const option = select.selectedOptions[0];
                    const preco = parseFloat(option?.dataset.preco || 0);
                    const subtotal = preco * parseInt(quantidade);
                    total += subtotal;

                    html += `
                        <li class="summary-list__item">
                            ${quantidade}x ${option?.textContent.split(' - ')[0]} - ${formatarMoeda(subtotal)}
                        </li>
                    `;
                });

                html += `
                        </ul>
                    </div>
                    <div class="summary-total">
                        <strong>Total do Pedido:</strong> ${formatarMoeda(total)}
                    </div>
                `;

                content.innerHTML = html;
                summary.hidden = false;
            } else {
                summary.hidden = true;
            }
        }

        function formatarMoeda(valor) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(valor);
        }

        function mostrarConfirmacao(titulo, mensagem, callback) {
            const modal = document.getElementById('confirm-modal');
            const title = document.getElementById('confirm-title');
            const message = document.getElementById('confirm-message');
            const cancelBtn = document.getElementById('confirm-cancel');
            const okBtn = document.getElementById('confirm-ok');

            title.textContent = titulo;
            message.textContent = mensagem;

            // Configurar eventos
            const fecharModal = function(resultado) {
                modal.style.display = 'none';
                modal.setAttribute('aria-hidden', 'true');
                
                cancelBtn.removeEventListener('click', cancelHandler);
                okBtn.removeEventListener('click', okHandler);
                
                if (resultado && callback) {
                    callback();
                }
            };

            const cancelHandler = () => fecharModal(false);
            const okHandler = () => fecharModal(true);

            cancelBtn.addEventListener('click', cancelHandler);
            okBtn.addEventListener('click', okHandler);

            // Mostrar modal
            modal.style.display = 'flex';
            modal.setAttribute('aria-hidden', 'false');
        }

        // Expor fun√ß√µes globalmente para o novo-pedido.js
        window.atualizarProgressoFormulario = atualizarProgressoFormulario;
        window.atualizarResumoPedido = atualizarResumoPedido;
        window.mostrarConfirmacao = mostrarConfirmacao;
    </script>
</body>
</html>
